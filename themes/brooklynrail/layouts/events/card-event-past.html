{{/* ==========================
DATE Variables
The following variables transform dates and times for the event `start_date` and `end_date` and set them for use in the event page. */}}

{{- $start_date := .Date -}}
{{- $end_date := (time .Params.end_date) -}}

<section class="card-event-past h-event">
  <a class="overlay" href="{{ .Permalink | relURL }}" title="{{- .Title -}}">

    {{/* Featured Image */}}
    <div class="card_cover">
      {{- if .Params.youtube_id -}}
      <div class="card_cover_img youtube-card" data-id="{{- .Params.youtube_id -}}" data-link="{{- .Permalink | relURL -}}"></div>
      {{- else -}}
      <div class="card_cover_img">
        <svg width="300px" height="300px" viewBox="0 0 300 300" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
          <g id="brooklynrail-circle-black" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
            <circle class="circle" fill="#000000" cx="150" cy="150" r="150"></circle>
            <path class="type" d="M110.302624,223.381295 C131.591146,223.381295 143.52518,216.448067 143.52518,198.386996 L143.52518,169.70046 C143.52518,144.970686 127.572795,142.385453 126.037619,142.385453 C133.812109,142.385453 142.51667,136.154661 142.236529,118.224742 L142.236529,106.785694 C142.236529,83.8164583 132.711713,76.618705 107.698427,76.618705 L65.8273381,76.618705 L65.8273381,223.381295 L110.302624,223.381295 Z" id="Stroke-2-path" fill="#FFFFFF"></path>
            <path class="circle" d="M112.223691,125.947261 C112.223691,129.526786 108.967429,131.654676 103.857904,131.654676 L92.8057554,131.654676 L92.8122813,100.359712 L103.938386,100.359712 C110.463961,100.359712 112.230216,102.884104 112.230216,106.600202 L112.223691,125.947261 Z" id="Stroke-2-path" fill="#000000"></path>
            <path class="circle" d="M93.0058009,155.395683 L103.886077,155.395683 C106.882321,155.395683 116.546763,155.393483 116.546763,166.395224 C116.546763,166.395224 116.546763,178.387123 116.546763,190.022565 C116.546763,199.565476 104.764056,199.640288 103.514881,199.640288 C94.961806,199.640288 92.8057554,199.640288 92.8057554,199.640288 L93.0058009,155.395683 Z" id="Stroke-2-path" fill="#000000"></path>
            <path class="type" d="M230.90543,125.882636 L230.90543,106.785694 C230.90543,83.8164583 223.041096,76.618705 202.470123,76.618705 L154.316547,76.618705 L154.316547,223.381295 L181.05086,223.381295 L181.05086,164.732276 L191.864318,164.738945 C199.233817,164.738945 202.538604,169.624881 202.538604,176.113529 L202.538604,223.381295 L234.172662,223.381295 C234.172662,223.381295 230.898802,220.06028 230.898802,212.698033 C230.898802,205.333562 230.898802,175.139899 230.898802,175.139899 C230.898802,151.521576 215.497081,151.472672 213.983859,151.472672 C221.903419,151.472672 230.90543,145.408598 230.90543,125.882636 Z" id="Stroke-2-path" fill="#FFFFFF"></path>
            <path class="circle" d="M202.873225,133.07074 C202.873225,139.570593 199.17173,142.446043 194.698625,142.446043 L181.294964,142.446043 L181.301673,100.359712 L194.508517,100.359712 C200.471167,100.359712 202.877698,103.9061 202.877698,109.293668 L202.873225,133.07074 Z" id="Stroke-2-path" fill="#000000"></path>
          </g>
        </svg>
      </div>
      {{- end -}}
    </div>

    <header>
      {{/* Kicker + Collections */}}
      {{- if .Params.collections -}}
        <p class="kicker">
        {{- range $collection := (.GetTerms "collections") -}}
          {{/* Gets the Topics page */}}
          {{- $collection := $.Site.GetPage (printf "/%s/%s" "collections" $collection.Title) -}}
          <span class="collection">{{- $collection.Title -}}</span>
        {{- end -}}
        {{- with .Params.series -}}
          <span class="series"><span>#{{- . -}}</span></span>
        {{- end -}}
        </p>
      {{- end -}}

      {{- if .Params.Title -}}
      <h2 class="p-name hover">
        {{- .Title | markdownify -}}
      </h2>
      {{- end -}}

      {{- if .Date -}}
      <div class="event-details">
        {{/* Start Date */}}
        <time class="dt-start" datetime="{{- dateFormat "2006-01-02T15:04:05Z07:00" (time $start_date) -}}">{{- dateFormat "Monday, January 2, 2006" (time $start_date) -}}</time>
      </div>
      {{- end -}}
    </header>
  </a>
</section>
